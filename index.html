<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>OmniTools | Developer Ecosystem</title>
    <meta name="description" content="Free all-in-one dashboard: PDF Compressor, JSON Formatter, TikTok Downloader, AI Prompt Generator.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. ENTERPRISE THEME VARIABLES --- */
        :root { 
            --bg-body: #09090b;       /* Pure Dark Zinc */
            --bg-sidebar: #09090b;    
            --bg-card: #0c0c0e;       /* Extremely subtle contrast */
            --bg-card-hover: #121215; 
            
            --border-subtle: #1f1f22; 
            --border-hover: #3f3f46;
            
            --primary: #3b82f6;       /* System Blue */
            --accent-glow: rgba(59, 130, 246, 0.4);
            
            --text-main: #ededef;
            --text-muted: #a1a1aa;
            
            --sidebar-width: 270px;
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            
            --transition: all 0.2s ease-in-out;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            overflow: hidden;
            /* Precise Grid Background */
            background-image: 
                linear-gradient(to right, #1f1f22 1px, transparent 1px),
                linear-gradient(to bottom, #1f1f22 1px, transparent 1px);
            background-size: 50px 50px;
            /* Top Spotlight Gradient */
            background-repeat: repeat;
        }

        /* The "Spotlight" at the top center */
        body::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 500px;
            background: radial-gradient(circle at 50% -20%, rgba(59, 130, 246, 0.08), transparent 70%);
            pointer-events: none; z-index: 1;
        }

        /* --- 2. SIDEBAR --- */
        aside { 
            width: var(--sidebar-width);
            background: var(--bg-sidebar);
            border-right: 1px solid var(--border-subtle);
            display: flex; flex-direction: column; padding: 24px 16px; 
            z-index: 100; transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            overflow-y: auto; height: 100%;
        }
        
        .logo { 
            font-size: 1.1rem; font-weight: 700; margin-bottom: 32px; 
            display: flex; align-items: center; gap: 10px; color: white; 
            padding-left: 12px; letter-spacing: -0.01em;
        }
        .logo i { color: white; background: var(--primary); padding: 6px; border-radius: 6px; font-size: 0.9rem; }
        
        .nav-item { 
            padding: 10px 12px; color: var(--text-muted); cursor: pointer; border-radius: 6px; 
            margin-bottom: 2px; font-size: 0.85rem; font-weight: 500; display: flex; 
            align-items: center; gap: 12px; transition: var(--transition);
        }
        .nav-item:hover { 
            background: #18181b; color: var(--text-main); 
        }
        .nav-item.active { 
            background: #18181b; 
            color: var(--text-main); 
            font-weight: 600;
        }
        .nav-item i { width: 18px; text-align: center; opacity: 0.7; }
        .nav-item.active i { opacity: 1; color: var(--primary); }

        .sidebar-ad-box {
            margin-top: 20px; padding: 0;
            border-radius: var(--radius-sm); overflow: hidden;
            border: 1px solid var(--border-subtle); opacity: 0.8; transition: 0.2s;
        }
        .sidebar-ad-box:hover { opacity: 1; border-color: var(--border-hover); }

        /* --- 3. MAIN AREA --- */
        main { flex: 1; display: flex; flex-direction: column; position: relative; width: 100%; z-index: 10; }

        header { 
            padding: 16px 32px; 
            display: flex; align-items: center; gap: 20px; 
            background: rgba(9, 9, 11, 0.6); /* Translucent */
            backdrop-filter: blur(8px);
            border-bottom: 1px solid var(--border-subtle);
            z-index: 50;
        }

        .menu-btn { display: none; font-size: 1.2rem; color: white; cursor: pointer; }
        
        /* Command Palette Search */
        .search-box { flex: 1; position: relative; max-width: 600px; }
        .search-box i { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #52525b; font-size: 0.9rem; }
        .search-input { 
            width: 100%; 
            background: #09090b; 
            border: 1px solid var(--border-subtle); 
            padding: 10px 16px 10px 38px; 
            border-radius: 8px; 
            color: #fff; font-family: 'Inter', sans-serif; font-size: 0.9rem; 
            transition: var(--transition);
        }
        .search-input:focus { 
            border-color: #52525b; 
            box-shadow: 0 0 0 1px #52525b; 
        }
        .search-input::placeholder { color: #52525b; }

        /* --- 4. GRID & CARDS --- */
        .grid-container { flex: 1; overflow-y: auto; padding: 32px; scroll-behavior: smooth; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; padding-bottom: 80px; }

        .card { 
            background: var(--bg-card); 
            border: 1px solid var(--border-subtle); 
            border-radius: var(--radius-md); 
            padding: 20px; text-decoration: none; 
            position: relative; display: flex; flex-direction: column; 
            transition: var(--transition);
            /* Subtle top highlight shadow */
            box-shadow: inset 0 1px 0 0 rgba(255,255,255,0.03);
        }
        
        /* The "Premium" Hover Effect */
        .card:hover { 
            transform: translateY(-2px); 
            border-color: var(--border-hover);
            background: var(--bg-card-hover);
            /* White glow at top edge */
            box-shadow: inset 0 1px 0 0 rgba(255,255,255,0.08), 0 10px 20px -5px rgba(0,0,0,0.5);
        }

        .icon-box { 
            width: 40px; height: 40px; 
            background: #18181b; 
            border-radius: 8px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1.1rem; color: var(--text-main); 
            margin-bottom: 16px; transition: var(--transition);
            border: 1px solid #27272a;
        }

        /* Subtle icon coloring on hover */
        .card:hover .icon-box.brand-social { color: #f43f5e; border-color: rgba(244,63,94,0.3); }
        .card:hover .icon-box.brand-dev { color: #3b82f6; border-color: rgba(59,130,246,0.3); }
        .card:hover .icon-box.brand-ai { color: #a855f7; border-color: rgba(168, 85, 247, 0.3); }
        .card:hover .icon-box { color: white; border-color: #52525b; }

        .card-title { font-weight: 600; font-size: 0.95rem; margin-bottom: 6px; color: var(--text-main); display: flex; align-items: center; gap: 8px; }
        .card-desc { color: var(--text-muted); font-size: 0.85rem; line-height: 1.5; font-weight: 400; }
        .verified-icon { color: var(--primary); font-size: 0.8rem; }

        /* Minimal Badges */
        .badge { 
            position: absolute; top: 20px; right: 20px; 
            font-size: 0.65rem; font-weight: 600; 
            padding: 2px 8px; border-radius: 4px; 
            text-transform: uppercase; letter-spacing: 0.02em; 
            border: 1px solid transparent;
        }
        .badge.hot { background: rgba(244,63,94,0.1); color: #fb7185; border-color: rgba(244,63,94,0.2); }
        .badge.new { background: rgba(34,197,94,0.1); color: #4ade80; border-color: rgba(34,197,94,0.2); }
        .badge.ai { background: rgba(168, 85, 247, 0.1); color: #c084fc; border-color: rgba(168, 85, 247, 0.2); }

        /* HERO CAROUSEL */
        .hero-container {
            width: 100%; height: 260px; border-radius: var(--radius-lg); position: relative; overflow: hidden;
            margin-bottom: 40px; border: 1px solid var(--border-subtle); 
        }
        .slide-content {
            background: linear-gradient(90deg, #09090b 40%, transparent 100%);
            padding: 40px;
        }
        .hero-btn {
            background: white; color: black; border: none; padding: 10px 20px;
            border-radius: 6px; font-weight: 600; font-size: 0.85rem;
            margin-top: 20px; transition: var(--transition); cursor: pointer;
        }
        .hero-btn:hover { background: #d4d4d8; }

        /* ADS */
        .card.native-ad { background: repeating-linear-gradient(45deg, #0c0c0e, #0c0c0e 10px, #0f0f11 10px, #0f0f11 20px); border: 1px dashed #27272a; }
        .ad-cta { margin-top: 15px; color: var(--text-main); font-weight: 600; font-size: 0.8rem; text-transform: uppercase; }

        /* STICKY FOOTER */
        #sticky-footer {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: auto; min-width: 350px;
            background: #18181b; border: 1px solid #27272a; border-radius: 12px;
            padding: 10px 20px; z-index: 200; display: none; align-items: center; justify-content: space-between; gap: 20px;
            box-shadow: 0 10px 30px -5px rgba(0,0,0,0.8);
        }
        .footer-btn { background: white; color: black; padding: 6px 16px; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 0.85rem; }
        .close-footer { cursor: pointer; color: var(--text-muted); transition: 0.2s; }
        .close-footer:hover { color: white; }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #27272a; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #3f3f46; }

        @media(max-width: 850px) {
            aside { position: fixed; left: 0; top: 0; bottom: 0; transform: translateX(-100%); width: 85%; }
            aside.open { transform: translateX(0); box-shadow: 50px 0 50px rgba(0,0,0,0.5); }
            #overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 90; display: none; backdrop-filter: blur(2px); }
            #overlay.active { display: block; }
            .menu-btn { display: block; }
            .grid-container { padding: 20px; }
            header { padding: 16px 20px; }
        }
    </style>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "OmniTools",
      "url": "https://omnitools.in",
      "description": "Free online developer dashboard with PDF tools, JSON formatter, and AI utilities.",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "All",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Organization",
        "name": "OmniTools"
      }
    }
    </script>
</head>
<body>

    <div id="overlay" onclick="toggleMenu()"></div>

    <aside id="sidebar">
        <div class="logo">
            <i class="fa-solid fa-layer-group"></i> OmniTools
        </div>
        
        <div class="nav-item active" onclick="filter('all', this)"><i class="fa-solid fa-border-all"></i> All Tools</div>
        <div class="nav-item" onclick="filter('dev', this)"><i class="fa-solid fa-code"></i> Developer</div>
        <div class="nav-item" onclick="filter('business', this)"><i class="fa-solid fa-briefcase"></i> Business</div>
        <div class="nav-item" onclick="filter('text', this)"><i class="fa-solid fa-font"></i> Text Tools</div>
        <div class="nav-item" onclick="filter('social', this)"><i class="fa-brands fa-tiktok"></i> Social Media</div>
        <div class="nav-item" onclick="filter('image', this)"><i class="fa-solid fa-image"></i> Image Tools</div>
        <div class="nav-item" onclick="filter('ai', this)"><i class="fa-solid fa-wand-magic-sparkles"></i> AI Tools</div>
        <div class="nav-item" onclick="filter('student', this)"><i class="fa-solid fa-graduation-cap"></i> Student</div>
        <div class="nav-item" onclick="filter('fun', this)"><i class="fa-solid fa-gamepad"></i> Fun & Games</div>
        <div class="nav-item" onclick="filter('health', this)"><i class="fa-solid fa-heart-pulse"></i> Health</div>
        
        <div class="sidebar-ad-box" id="sidebar-ad-container"></div>

        <div class="nav-item" onclick="toggleMenu()" style="margin-top:auto; color:#ef4444; border-top:1px solid var(--border-subtle); border-radius:0; flex-shrink: 0;">
            <i class="fa-solid fa-arrow-left"></i> Close Menu
        </div>
    </aside>

    <main>
        <header>
            <div class="menu-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></div>
            
            <div class="search-box">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" class="search-input" id="search" placeholder="Type to search..." onkeyup="searchTools()">
            </div>
        </header>

        <div class="grid-container">

            <div class="hero-container" id="hero-wrapper" style="display:none;"></div>

            <div id="error-screen" style="display:none; text-align:center; padding:50px; color:#ef4444;">
                <i class="fa-solid fa-triangle-exclamation" style="font-size:3rem; margin-bottom:20px;"></i>
                <h3>Database Error</h3>
                <p>Could not load 'database.js'. Make sure it is in the same folder.</p>
            </div>

            <div id="intro-text-box" style="margin: 0 0 40px 0;">
                <h2 style="font-size: 1.5rem; margin-bottom: 8px; color: white; letter-spacing: -0.01em;">Dashboard</h2>
                <p style="max-width: 600px; line-height: 1.5; color: var(--text-muted); font-size: 0.95rem;">
                    Access your complete toolkit. Open source, fast, and free.
                </p>
            </div>

            <h3 style="margin-bottom:20px; color:white; font-size: 0.9rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-muted);">Applications</h3>
            <div class="grid" id="tools-grid"></div>

            <footer style="margin-top: 80px; border-top: 1px solid var(--border-subtle); padding: 40px 0; text-align: center;">
                <div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 20px;">
                    <i class="fa-solid fa-layer-group" style="color:var(--text-muted)"></i> 
                    <span style="font-weight: 600; color: white; font-size: 0.95rem;">OmniTools</span>
                </div>
                
                <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-bottom: 30px;">
                    <a href="privacy.html" style="color: var(--text-muted); text-decoration: none; font-size:0.85rem; transition: 0.2s;">Privacy</a>
                    <a href="terms.html" style="color: var(--text-muted); text-decoration: none; font-size:0.85rem; transition: 0.2s;">Terms</a>
                    <a href="contact.html" style="color: var(--text-muted); text-decoration: none; font-size:0.85rem; transition: 0.2s;">Contact</a>
                </div>

                <div style="color: #52525b; font-size: 0.8rem;">
                    &copy; 2026 OmniTools Inc.
                </div>
            </footer>
        </div>
    </main>
    
    <div id="sticky-footer"></div>

    <script src="ads.js"></script>

    <script>
        // Force loading from database.js by removing the fallback
        const demoToolsDB = []; 
    </script>

    <script src="database.js"></script>

    <script>
        const grid = document.getElementById('tools-grid');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const heroWrapper = document.getElementById('hero-wrapper');
        const introText = document.getElementById('intro-text-box');

        // --- A. LOAD ADS ---
        function loadAds() {
            if (typeof adConfig === 'undefined' || !adConfig.enabled) {
                heroWrapper.style.display = 'none';
                return; 
            }

            // 1. Sidebar Ad
            if(adConfig.sidebar) {
                const sbContainer = document.getElementById('sidebar-ad-container');
                sbContainer.innerHTML = `
                    <div style="font-size:0.65rem; color:#52525b; margin-bottom:10px; text-transform:uppercase; font-weight:700; padding-left:5px;">Sponsored</div>
                    <a href="${adConfig.sidebar.link}">
                        <img src="${adConfig.sidebar.image}" style="width:100%; border-radius:6px; display:block; border:1px solid #27272a;">
                    </a>
                `;
            }

            // 2. Hero Carousel
            if(adConfig.hero && adConfig.hero.length > 0) {
                let slidesHTML = "";
                let dotsHTML = '<div class="dots" style="position:absolute; bottom:20px; left:40px; display:flex; gap:6px;">';
                
                adConfig.hero.forEach((ad, index) => {
                    const activeClass = index === 0 ? 'opacity:1; z-index:2;' : 'opacity:0;';
                    slidesHTML += `
                        <div class="slide" style="position:absolute; inset:0; transition:opacity 0.5s ease; background-size:cover; background-position:center; display:flex; align-items:center; background-image: url('${ad.bgImage}'); ${activeClass}">
                            <div class="slide-content">
                                <span style="color:${ad.accent}; font-weight:700; letter-spacing:0.05em; font-size:0.7rem; margin-bottom:8px; text-transform:uppercase; display:block;">${ad.tag}</span>
                                <h1 style="font-size:2rem; font-weight:800; line-height:1.1; margin-bottom:12px; color:white;">${ad.title}</h1>
                                <p style="color:#e4e4e7; max-width:500px; margin-bottom:20px; font-size:0.95rem;">${ad.desc}</p>
                                <a href="${ad.btnLink}" class="hero-btn">${ad.btnText}</a>
                            </div>
                        </div>
                    `;
                    const dotStyle = index === 0 ? 'background:white;' : 'background:rgba(255,255,255,0.4);';
                    dotsHTML += `<div class="dot" style="height:6px; width:6px; border-radius:50%; cursor:pointer; transition:0.3s; ${dotStyle}" onclick="setSlide(${index})"></div>`;
                });
                
                dotsHTML += '</div>';
                heroWrapper.innerHTML = slidesHTML + dotsHTML;
                
                window.heroSlides = heroWrapper.querySelectorAll('.slide');
                window.heroDots = heroWrapper.querySelectorAll('.dot');
                window.currentSlide = 0;
                
                heroWrapper.style.display = 'block';
            }

            // 3. STICKY FOOTER
            if(adConfig.stickyFooter && adConfig.stickyFooter.enabled) {
                const footer = document.getElementById('sticky-footer');
                const data = adConfig.stickyFooter;

                footer.style.display = 'flex';
                footer.innerHTML = `
                    <div class="footer-text" style="color:white; font-size:0.85rem; font-weight:500;">${data.text}</div>
                    <div style="display:flex; align-items:center; gap:12px;">
                        <a href="${data.link}" class="footer-btn">${data.btnText}</a>
                        <div class="close-footer" onclick="this.parentElement.parentElement.style.display='none'"><i class="fa-solid fa-xmark"></i></div>
                    </div>
                `;
            }
        }

        // --- B. RENDER TOOLS ---
        function render(cat) {
            if(window.innerWidth < 850) {
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
            }

            if (cat === 'all') {
                if (introText) introText.style.display = 'block';
                if (heroWrapper && heroWrapper.innerHTML.trim() !== "") {
                    heroWrapper.style.display = 'block';
                }
            } else {
                if (introText) introText.style.display = 'none';
                if (heroWrapper) heroWrapper.style.display = 'none';
            }

            grid.innerHTML = "";
            const db = (typeof toolsDB !== 'undefined') ? toolsDB : demoToolsDB;

            if(!db || db.length === 0) { document.getElementById('error-screen').style.display = 'block'; return; }

            const filtered = cat === 'all' ? db : db.filter(t => t.cat === cat);
            
            let availableAds = [];
            if(typeof adConfig !== 'undefined' && adConfig.enabled && adConfig.native) {
                availableAds = adConfig.native.filter(ad => ad.category === 'all' || ad.category === cat);
            }

            let counter = 0;
            let adCounter = 0;
            
            filtered.forEach(tool => {
                let badge = tool.tag ? `<span class="badge ${tool.tag.toLowerCase()}">${tool.tag}</span>` : "";
                let iconPrefix = "fa-solid";
                if (['tiktok','instagram','youtube','twitter','facebook','discord','paypal'].some(b => tool.icon.includes(b))) iconPrefix = "fa-brands";
                
                let brandClass = "brand-dev";
                if (tool.cat === 'social') brandClass = "brand-social";
                else if (tool.cat === 'ai') brandClass = "brand-ai";

                grid.innerHTML += `
                    <a href="${tool.url}" class="card"> 
                        ${badge}
                        <div class="icon-box ${brandClass}"><i class="${iconPrefix} ${tool.icon}"></i></div>
                        <div class="card-title">${tool.name} <i class="fa-solid fa-circle-check verified-icon"></i></div>
                        <div class="card-desc">${tool.desc}</div>
                    </a>
                `;

                counter++;

                if (counter % 4 === 0 && availableAds.length > 0) {
                    const ad = availableAds[adCounter % availableAds.length];
                    grid.innerHTML += `
                        <a href="${ad.link}" class="card native-ad">
                            <div class="icon-box" style="background:white; color:black; border:none;"><i class="fa-solid ${ad.icon}"></i></div>
                            <div class="card-title">${ad.title}</div>
                            <div class="card-desc" style="color:#a1a1aa;">${ad.desc}</div>
                            <div class="ad-cta">${ad.cta} <i class="fa-solid fa-arrow-right"></i></div>
                        </a>
                    `;
                    adCounter++; 
                }
            });
        }

        function filter(cat, btn) {
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            render(cat);
        }
        
        function searchTools() {
            const q = document.getElementById('search').value.toLowerCase();
            document.querySelectorAll('.card').forEach(c => {
                if(c.classList.contains('native-ad')) return; 
                const title = c.querySelector('.card-title').innerText.toLowerCase();
                const desc = c.querySelector('.card-desc').innerText.toLowerCase();
                c.style.display = (title.includes(q) || desc.includes(q)) ? 'flex' : 'none';
            });
        }

        function toggleMenu() {
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }

        function setSlide(n) {
            if(!window.heroSlides) return;
            window.heroSlides.forEach(s => { s.style.opacity = '0'; s.style.zIndex = '0'; });
            window.heroDots.forEach(d => { d.style.background = 'rgba(255,255,255,0.4)'; });
            
            window.currentSlide = n;
            window.heroSlides[window.currentSlide].style.opacity = '1';
            window.heroSlides[window.currentSlide].style.zIndex = '2';
            window.heroDots[window.currentSlide].style.background = 'white';
        }

        function nextSlide() {
            if(!window.heroSlides) return;
            let next = (window.currentSlide + 1) % window.heroSlides.length;
            setSlide(next);
        }

        loadAds(); 
        setTimeout(() => render('all'), 50); 
        setInterval(nextSlide, 5000); 
    </script>
</body>
</html>

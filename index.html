<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OmniTools - Premier Dashboard</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CORE VARIABLES --- */
        :root { 
            --bg: #020617; 
            --panel: #0f172a; 
            --border: #1e293b; 
            --primary: #3b82f6; 
            --text: #f8fafc; 
            --muted: #94a3b8; 
            --sidebar-width: 280px;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background: var(--bg); 
            /* Added subtle texture for premium feel */
            background-image: radial-gradient(circle at top right, #1e293b 0%, transparent 40%),
                              radial-gradient(circle at bottom left, #0f172a 0%, transparent 40%);
            color: var(--text); 
            height: 100vh; 
            display: flex; 
            overflow: hidden; 
        }

        /* --- SIDEBAR (App Drawer) --- */
        aside { 
            width: var(--sidebar-width); 
            background: rgba(15, 23, 42, 0.6); /* Glass effect */
            backdrop-filter: blur(12px);
            border-right: 1px solid var(--border); 
            display: flex; 
            flex-direction: column; 
            padding: 25px; 
            z-index: 100; 
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .logo { 
            font-size: 1.5rem; 
            font-weight: 800; 
            margin-bottom: 35px; 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            color: white; 
            letter-spacing: -0.5px;
        }
        
        .nav-item { 
            padding: 12px 16px; 
            color: var(--muted); 
            cursor: pointer; 
            border-radius: 10px; 
            margin-bottom: 6px; 
            font-size: 0.95rem; 
            font-weight: 600; 
            display: flex; 
            align-items: center; 
            gap: 15px; 
            transition: 0.2s; 
            border: 1px solid transparent;
        }
        .nav-item:hover, .nav-item.active { 
            background: rgba(59, 130, 246, 0.1); 
            color: var(--primary); 
            border-color: rgba(59, 130, 246, 0.2);
        }
        .nav-item i { width: 20px; text-align: center; }

        /* SIDEBAR AD SLOT */
        .sidebar-ad-box {
            margin-top: 20px;
            margin-bottom: 20px;
            padding: 10px;
            background: #000;
            border: 1px solid var(--border);
            border-radius: 12px;
            text-align: center;
        }

        /* --- MOBILE SIDEBAR LOGIC --- */
        @media(max-width: 850px) {
            aside { 
                position: fixed; left: 0; top: 0; bottom: 0; 
                transform: translateX(-100%); 
                box-shadow: 20px 0 50px rgba(0,0,0,0.5); 
            }
            aside.open { transform: translateX(0); }
            #overlay { 
                position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
                z-index: 90; display: none; backdrop-filter: blur(4px); 
            }
            #overlay.active { display: block; }
            .sidebar-ad-box { display: none; } /* Hide sidebar ad on mobile */
        }

        /* --- MAIN CONTENT AREA --- */
        main { flex: 1; display: flex; flex-direction: column; position: relative; width: 100%; }

        /* HEADER */
        header { 
            padding: 15px 25px; 
            border-bottom: 1px solid var(--border); 
            display: flex; 
            align-items: center; 
            gap: 20px;
            background: rgba(2, 6, 23, 0.8); 
            backdrop-filter: blur(10px); 
            z-index: 50;
        }

        .menu-btn { 
            display: none; font-size: 1.2rem; color: white; 
            background: var(--panel); border: 1px solid var(--border); 
            padding: 10px 14px; border-radius: 10px; cursor: pointer;
        }
        @media(max-width: 850px) { .menu-btn { display: block; } }

        /* SEARCH BAR */
        .search-box { flex: 1; position: relative; max-width: 600px; }
        .search-box i { position: absolute; left: 18px; top: 50%; transform: translateY(-50%); color: var(--muted); }
        .search-input { 
            width: 100%; 
            background: rgba(15, 23, 42, 0.5); 
            border: 1px solid var(--border); 
            padding: 12px 14px 12px 50px; 
            border-radius: 50px; /* Modern Pill Shape */
            color: #fff; 
            font-size: 0.95rem;
            transition: 0.2s;
        }
        .search-input:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1); }

        /* --- HERO CAROUSEL (The Feature Ad Spot) --- */
        .hero-container {
            width: 100%; height: 280px;
            border-radius: 20px; position: relative; overflow: hidden;
            margin-bottom: 30px; border: 1px solid var(--border);
            box-shadow: 0 20px 50px -10px rgba(0,0,0,0.5);
        }
        .slide {
            position: absolute; inset: 0; opacity: 0; transition: opacity 0.5s ease-in-out;
            background-size: cover; background-position: center; display: flex; align-items: center;
        }
        .slide.active { opacity: 1; z-index: 2; }
        .slide-content {
            background: linear-gradient(90deg, #020617 30%, transparent 100%);
            height: 100%; width: 100%; padding: 50px; display: flex; flex-direction: column; justify-content: center;
        }
        .hero-btn {
            background: var(--primary); color: white; border: none; padding: 10px 24px;
            border-radius: 8px; font-weight: 700; width: fit-content; cursor: pointer; margin-top: 20px;
            transition: 0.2s;
        }
        .hero-btn:hover { transform: scale(1.05); }

        .dots { position: absolute; bottom: 20px; left: 50px; display: flex; gap: 8px; z-index: 10; }
        .dot { width: 8px; height: 8px; background: rgba(255,255,255,0.2); border-radius: 50%; cursor: pointer; transition: 0.3s; }
        .dot.active { background: var(--primary); width: 24px; border-radius: 4px; }

        /* --- STATS BAR --- */
        .stats-bar { display: flex; gap: 40px; margin-bottom: 30px; padding: 0 10px; }
        .stat-item { display: flex; flex-direction: column; }
        .stat-num { font-size: 1.1rem; font-weight: 800; color: white; }
        .stat-label { font-size: 0.8rem; color: var(--muted); }

        /* --- TOOLS GRID --- */
        .grid-container { flex: 1; overflow-y: auto; padding: 30px; scroll-behavior: smooth; }
        
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 24px; 
            padding-bottom: 80px; 
        }

        @media(max-width: 600px) {
            .grid-container { padding: 15px; }
            .grid { grid-template-columns: 1fr; gap: 15px; }
            .hero-container { height: 350px; } /* Taller on mobile for text */
            .slide-content { padding: 25px; background: linear-gradient(0deg, #020617 40%, transparent 100%); justify-content: flex-end; }
        }

        /* --- CARD DESIGN --- */
        .card { 
            background: var(--panel); 
            border: 1px solid var(--border); 
            border-radius: 16px; 
            padding: 24px; 
            text-decoration: none; 
            position: relative; 
            display: flex; 
            flex-direction: column; 
            transition: all 0.2s;
        }
        .card:hover { 
            border-color: var(--primary); 
            transform: translateY(-5px); 
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.4);
        }

        .icon-box { 
            width: 50px; height: 50px; 
            background: rgba(255,255,255,0.03); 
            border-radius: 12px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1.5rem; 
            color: var(--muted); 
            margin-bottom: 18px; 
            transition: 0.2s;
        }

        /* Brand Colors */
        .card:hover .icon-box.brand-social { color: #f43f5e; background: rgba(244,63,94,0.1); }
        .card:hover .icon-box.brand-biz { color: #10b981; background: rgba(16,185,129,0.1); }
        .card:hover .icon-box.brand-dev { color: #3b82f6; background: rgba(59,130,246,0.1); }
        .card:hover .icon-box.brand-stu { color: #f59e0b; background: rgba(245,158,11,0.1); }
        .card:hover .icon-box.brand-text { color: #2dd4bf; background: rgba(45, 212, 191, 0.1); }
        .card:hover .icon-box.brand-ai { color: #a855f7; background: rgba(168, 85, 247, 0.1); }
        .card:hover .icon-box.brand-img { color: #ec4899; background: rgba(236, 72, 153, 0.1); }

        .card-title { font-weight: 700; font-size: 1.1rem; margin-bottom: 8px; color: white; display: flex; align-items: center; gap: 8px; }
        .card-desc { color: var(--muted); font-size: 0.9rem; line-height: 1.5; font-weight: 500; }
        
        /* Verified Badge */
        .verified-icon { color: var(--primary); font-size: 0.9rem; }

        .badge { 
            position: absolute; top: 24px; right: 24px; 
            font-size: 0.7rem; font-weight: 800; 
            padding: 4px 10px; border-radius: 6px; 
            letter-spacing: 0.5px;
        }
        .badge.hot { background: rgba(244,63,94,0.15); color: #fb7185; }
        .badge.new { background: rgba(34,197,94,0.15); color: #4ade80; }
        .badge.pro { background: rgba(99,102,241,0.15); color: #818cf8; }
        .badge.seo { background: rgba(245,158,11,0.15); color: #fcd34d; }
        .badge.viral { background: rgba(236, 72, 153, 0.15); color: #f472b6; }
        .badge.ai { background: rgba(168, 85, 247, 0.15); color: #c084fc; }

        /* --- NATIVE AD CARD --- */
        .card.native-ad {
            background: linear-gradient(145deg, #0f172a, #1e293b);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .card.native-ad .icon-box { background: white; color: black; }
        .ad-cta { 
            margin-top: 15px; color: var(--primary); font-size: 0.9rem; font-weight: 700; 
            display: flex; align-items: center; gap: 5px;
        }

        /* Error Screen */
        #error-screen { display: none; padding: 50px; text-align: center; color: #ef4444; }
    </style>
</head>
<body>

    <div id="overlay" onclick="toggleMenu()"></div>

    <aside id="sidebar">
        <div class="logo">
            <i class="fa-solid fa-layer-group" style="color:var(--primary)"></i> OmniTools
        </div>
        
        <div class="nav-item active" onclick="filter('all', this)"><i class="fa-solid fa-border-all"></i> All Tools</div>
        
        <div class="nav-item" onclick="filter('dev', this)"><i class="fa-solid fa-code"></i> Developer</div>
        <div class="nav-item" onclick="filter('business', this)"><i class="fa-solid fa-briefcase"></i> Business</div>
        <div class="nav-item" onclick="filter('text', this)"><i class="fa-solid fa-font"></i> Text Tools</div>
        <div class="nav-item" onclick="filter('social', this)"><i class="fa-brands fa-tiktok"></i> Social Media</div>
        
        <div class="nav-item" onclick="filter('image', this)"><i class="fa-solid fa-image"></i> Image Tools</div>
        <div class="nav-item" onclick="filter('ai', this)"><i class="fa-solid fa-wand-magic-sparkles"></i> AI Tools</div>
        <div class="nav-item" onclick="filter('student', this)"><i class="fa-solid fa-graduation-cap"></i> Student</div>
        
        <div class="sidebar-ad-box">
            <div style="font-size:0.7rem; color:#64748b; margin-bottom:10px; text-transform:uppercase;">Sponsored</div>
            <img src="https://placehold.co/200x200/1e293b/FFFFFF?text=Partner+Ad" style="width:100%; border-radius:8px;">
        </div>

        <div class="nav-item" onclick="toggleMenu()" style="margin-top:auto; color:#ef4444; border-top:1px solid var(--border); border-radius:0;">
            <i class="fa-solid fa-arrow-left"></i> Close Menu
        </div>
    </aside>

    <main>
        <header>
            <div class="menu-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></div>
            <div class="search-box">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" class="search-input" id="search" placeholder="Search 5,000+ trusted tools..." onkeyup="searchTools()">
            </div>
            <div style="display:flex; gap:15px; align-items:center;">
                <button style="background:var(--border); color:white; border:none; padding:8px 16px; border-radius:8px; font-weight:600; cursor:pointer; display:none;">Submit</button>
                <div style="width:35px; height:35px; background:linear-gradient(45deg, #3b82f6, #8b5cf6); border-radius:50%; display:block;"></div>
            </div>
        </header>

        <div class="grid-container">

            <div class="hero-container">
                <div class="slide active" style="background-image: url('https://placehold.co/1200x400/0f172a/FFFFFF?text=Background');">
                    <div class="slide-content">
                        <span style="color:var(--primary); font-weight:700; letter-spacing:1px; font-size:0.8rem; margin-bottom:10px;">FEATURED</span>
                        <h1 style="font-size:2.2rem; font-weight:800; line-height:1.1; margin-bottom:15px; color:white;">Deploy Apps <br>in Seconds.</h1>
                        <p style="color:#cbd5e1; max-width:500px; margin-bottom:20px;">The developer platform for the AI era. Scale from zero to billion users.</p>
                        <button class="hero-btn">Start Free Trial</button>
                    </div>
                </div>
                <div class="slide" style="background-image: url('https://placehold.co/1200x400/312e81/FFFFFF?text=Background');">
                    <div class="slide-content">
                        <span style="color:#a855f7; font-weight:700; letter-spacing:1px; font-size:0.8rem; margin-bottom:10px;">AI POWERED</span>
                        <h1 style="font-size:2.2rem; font-weight:800; line-height:1.1; margin-bottom:15px; color:white;">Write Code <br>With Omni-AI.</h1>
                        <p style="color:#cbd5e1; max-width:500px; margin-bottom:20px;">Your intelligent pair programmer. Suggests code and fixes bugs.</p>
                        <button class="hero-btn" style="background:#a855f7;">Install Plugin</button>
                    </div>
                </div>
                <div class="slide" style="background-image: url('https://placehold.co/1200x400/064e3b/FFFFFF?text=Background');">
                    <div class="slide-content">
                        <span style="color:#10b981; font-weight:700; letter-spacing:1px; font-size:0.8rem; margin-bottom:10px;">FINANCE</span>
                        <h1 style="font-size:2.2rem; font-weight:800; line-height:1.1; margin-bottom:15px; color:white;">Smart Banking <br>For Startups.</h1>
                        <p style="color:#cbd5e1; max-width:500px; margin-bottom:20px;">No fees. 4.5% APY. The bank account built for founders.</p>
                        <button class="hero-btn" style="background:#10b981;">Open Account</button>
                    </div>
                </div>

                <div class="dots">
                    <div class="dot active" onclick="setSlide(0)"></div>
                    <div class="dot" onclick="setSlide(1)"></div>
                    <div class="dot" onclick="setSlide(2)"></div>
                </div>
            </div>

            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-num">5,200+</span>
                    <span class="stat-label">Verified Tools</span>
                </div>
                <div class="stat-item">
                    <span class="stat-num">1.2M</span>
                    <span class="stat-label">Monthly Users</span>
                </div>
                <div class="stat-item">
                    <span class="stat-num">100%</span>
                    <span class="stat-label">Secure</span>
                </div>
            </div>

            <div id="error-screen">
                <i class="fa-solid fa-triangle-exclamation" style="font-size:3rem; margin-bottom:20px;"></i>
                <h3>Database Error</h3>
                <p>Could not load 'database.js'. Make sure it is in the same folder.</p>
            </div>

            <h3 style="margin-bottom:20px; color:white;">Trending Tools</h3>
            <div class="grid" id="tools-grid">
                </div>
        </div>
    </main>

    <script>
        const demoToolsDB = [
            {name: "JSON Formatter", desc: "Beautify and validate JSON code.", url: "#", icon: "fa-code", cat: "dev", tag: "HOT"},
            {name: "PDF Compressor", desc: "Reduce PDF file size quickly.", url: "#", icon: "fa-file-pdf", cat: "business", tag: "NEW"},
            {name: "Instagram Downloader", desc: "Save posts and reels.", url: "#", icon: "fa-instagram", cat: "social", tag: "VIRAL"},
            {name: "ChatGPT Prompt Gen", desc: "Create perfect AI prompts.", url: "#", icon: "fa-robot", cat: "ai", tag: "AI"},
            {name: "Word Counter", desc: "Count words and characters.", url: "#", icon: "fa-align-left", cat: "text", tag: ""},
            {name: "Background Remover", desc: "Remove image backgrounds.", url: "#", icon: "fa-image", cat: "image", tag: "PRO"},
            {name: "Code Minifier", desc: "Minify CSS/JS files.", url: "#", icon: "fa-file-code", cat: "dev", tag: ""},
            {name: "QR Generator", desc: "Create custom QR codes.", url: "#", icon: "fa-qrcode", cat: "business", tag: "SEO"},
            {name: "Video Trimmer", desc: "Cut videos online instantly.", url: "#", icon: "fa-video", cat: "social", tag: ""},
            {name: "Citation Machine", desc: "APA & MLA Citation generator.", url: "#", icon: "fa-book", cat: "student", tag: "FREE"},
        ];
    </script>

    <script src="database.js" onerror="window.toolsDB = demoToolsDB"></script>

    <script>
        const grid = document.getElementById('tools-grid');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');

        function toggleMenu() {
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }

        function render(cat) {
            if(window.innerWidth < 850) {
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
            }

            grid.innerHTML = "";
            
            // Check for DB or Fallback
            const db = (typeof toolsDB !== 'undefined') ? toolsDB : window.demoToolsDB;

            if(!db) {
                document.getElementById('error-screen').style.display = 'block';
                return;
            }

            const filtered = cat === 'all' ? db : db.filter(t => t.cat === cat);
            let counter = 0;
            
            filtered.forEach(tool => {
                let badge = tool.tag ? `<span class="badge ${tool.tag.toLowerCase()}">${tool.tag}</span>` : "";
                
                let iconPrefix = "fa-solid";
                if (['tiktok','instagram','youtube','twitter','facebook','discord','paypal'].some(b => tool.icon.includes(b))) {
                    iconPrefix = "fa-brands";
                }
                
                // --- CATEGORY COLOR MAPPING ---
                let brandClass = "brand-dev";
                if (tool.cat === 'social') brandClass = "brand-social";
                else if (tool.cat === 'business') brandClass = "brand-biz";
                else if (tool.cat === 'student') brandClass = "brand-stu";
                else if (tool.cat === 'text') brandClass = "brand-text";
                else if (tool.cat === 'ai') brandClass = "brand-ai";
                else if (tool.cat === 'image') brandClass = "brand-img";

                grid.innerHTML += `
                    <a href="${tool.url}" class="card"> 
                        ${badge}
                        <div class="icon-box ${brandClass}"><i class="${iconPrefix} ${tool.icon}"></i></div>
                        <div class="card-title">
                            ${tool.name} 
                            <i class="fa-solid fa-circle-check verified-icon"></i>
                        </div>
                        <div class="card-desc">${tool.desc}</div>
                    </a>
                `;

                counter++;

                // --- INSERT NATIVE AD EVERY 4 ITEMS ---
                if (counter % 4 === 0) {
                    grid.innerHTML += `
                        <div class="card native-ad">
                            <div class="icon-box"><i class="fa-solid fa-rocket"></i></div>
                            <div class="card-title">Launch Your Startup</div>
                            <div class="card-desc">Get $5,000 in cloud credits and deploy instantly.</div>
                            <div class="ad-cta">Apply Now <i class="fa-solid fa-arrow-right"></i></div>
                        </div>
                    `;
                }
            });
        }

        function filter(cat, btn) {
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            render(cat);
        }
        
        function searchTools() {
            const q = document.getElementById('search').value.toLowerCase();
            document.querySelectorAll('.card').forEach(c => {
                if(c.classList.contains('native-ad')) return; // Don't filter ads
                const title = c.querySelector('.card-title').innerText.toLowerCase();
                const desc = c.querySelector('.card-desc').innerText.toLowerCase();
                c.style.display = (title.includes(q) || desc.includes(q)) ? 'flex' : 'none';
            });
        }

        // --- CAROUSEL ANIMATION ---
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');

        function setSlide(n) {
            slides.forEach(s => s.classList.remove('active'));
            dots.forEach(d => d.classList.remove('active'));
            currentSlide = n;
            slides[currentSlide].classList.add('active');
            dots[currentSlide].classList.add('active');
        }

        function nextSlide() {
            let next = (currentSlide + 1) % slides.length;
            setSlide(next);
        }

        setInterval(nextSlide, 5000); // Auto-rotate every 5s

        setTimeout(() => render('all'), 50);
    </script>
</body>
</html>

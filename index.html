<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OmniTools - All-in-One Dashboard</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CORE VARIABLES --- */
        :root { 
            --bg: #020617; 
            --panel: #0f172a; 
            --border: #1e293b; 
            --primary: #3b82f6; 
            --text: #f8fafc; 
            --muted: #94a3b8; 
            --sidebar-width: 280px;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            height: 100vh; 
            display: flex; 
            overflow: hidden; 
        }

        /* --- SIDEBAR (App Drawer) --- */
        aside { 
            width: var(--sidebar-width); 
            background: var(--panel); 
            border-right: 1px solid var(--border); 
            display: flex; 
            flex-direction: column; 
            padding: 25px; 
            z-index: 100; 
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .logo { 
            font-size: 1.5rem; 
            font-weight: 800; 
            margin-bottom: 35px; 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            color: white; 
            letter-spacing: -0.5px;
        }
        
        .nav-item { 
            padding: 14px 16px; 
            color: var(--muted); 
            cursor: pointer; 
            border-radius: 12px; 
            margin-bottom: 6px; 
            font-size: 0.95rem; 
            font-weight: 600; 
            display: flex; 
            align-items: center; 
            gap: 15px; 
            transition: 0.2s; 
        }
        .nav-item:hover, .nav-item.active { 
            background: rgba(59, 130, 246, 0.1); 
            color: var(--primary); 
        }
        .nav-item i { width: 20px; text-align: center; }

        /* --- MOBILE SIDEBAR LOGIC --- */
        @media(max-width: 850px) {
            aside { 
                position: fixed; 
                left: 0; 
                top: 0; 
                bottom: 0; 
                transform: translateX(-100%); 
                box-shadow: 20px 0 50px rgba(0,0,0,0.5); 
            }
            aside.open { transform: translateX(0); }
            
            #overlay { 
                position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
                z-index: 90; display: none; backdrop-filter: blur(4px); 
            }
            #overlay.active { display: block; }
        }

        /* --- MAIN CONTENT AREA --- */
        main { flex: 1; display: flex; flex-direction: column; position: relative; width: 100%; }

        /* HEADER */
        header { 
            padding: 15px 20px; 
            border-bottom: 1px solid var(--border); 
            display: flex; 
            align-items: center; 
            gap: 15px;
            background: rgba(2, 6, 23, 0.9); 
            backdrop-filter: blur(10px); 
            z-index: 50;
        }

        .menu-btn { 
            display: none; 
            font-size: 1.2rem; 
            color: white; 
            background: var(--panel); 
            border: 1px solid var(--border); 
            padding: 10px 14px; 
            border-radius: 10px; 
            cursor: pointer;
        }
        @media(max-width: 850px) { .menu-btn { display: block; } }

        /* SEARCH BAR */
        .search-box { flex: 1; position: relative; max-width: 600px; }
        .search-box i { position: absolute; left: 18px; top: 50%; transform: translateY(-50%); color: var(--muted); }
        .search-input { 
            width: 100%; 
            background: var(--panel); 
            border: 1px solid var(--border); 
            padding: 14px 14px 14px 50px; 
            border-radius: 12px; 
            color: #fff; 
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        .search-input:focus { border-color: var(--primary); }

        /* --- TOOLS GRID --- */
        .grid-container { flex: 1; overflow-y: auto; padding: 25px; scroll-behavior: smooth; }
        
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); 
            gap: 20px; 
            padding-bottom: 80px; 
        }

        @media(max-width: 600px) {
            .grid-container { padding: 15px; }
            .grid { grid-template-columns: 1fr; gap: 15px; }
        }

        /* --- CARD DESIGN --- */
        .card { 
            background: var(--panel); 
            border: 1px solid var(--border); 
            border-radius: 18px; 
            padding: 22px; 
            text-decoration: none; 
            position: relative; 
            display: flex; 
            flex-direction: column; 
            transition: transform 0.2s, border-color 0.2s, background 0.2s;
        }
        .card:active { transform: scale(0.97); background: #162032; }
        .card:hover { border-color: var(--primary); transform: translateY(-4px); }

        .icon-box { 
            width: 55px; height: 55px; 
            background: rgba(255,255,255,0.03); 
            border-radius: 14px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1.6rem; 
            color: var(--muted); 
            margin-bottom: 18px; 
        }

        /* DYNAMIC COLORS */
        .card:hover .icon-box.brand-social { color: #f43f5e; background: rgba(244,63,94,0.1); }
        .card:hover .icon-box.brand-biz { color: #10b981; background: rgba(16,185,129,0.1); }
        .card:hover .icon-box.brand-dev { color: #3b82f6; background: rgba(59,130,246,0.1); }
        .card:hover .icon-box.brand-stu { color: #f59e0b; background: rgba(245,158,11,0.1); }
        
        /* NEW COLORS */
        .card:hover .icon-box.brand-text { color: #2dd4bf; background: rgba(45, 212, 191, 0.1); } /* Teal for Text */
        .card:hover .icon-box.brand-ai { color: #a855f7; background: rgba(168, 85, 247, 0.1); } /* Purple for AI */
        .card:hover .icon-box.brand-img { color: #ec4899; background: rgba(236, 72, 153, 0.1); } /* Pink for Image */

        .card-title { font-weight: 700; font-size: 1.15rem; margin-bottom: 6px; color: white; }
        .card-desc { color: var(--muted); font-size: 0.9rem; line-height: 1.5; font-weight: 500; }
        
        .badge { 
            position: absolute; top: 22px; right: 22px; 
            font-size: 0.7rem; font-weight: 800; 
            padding: 5px 10px; border-radius: 8px; 
            letter-spacing: 0.5px;
        }
        .badge.hot { background: rgba(244,63,94,0.15); color: #fb7185; }
        .badge.new { background: rgba(34,197,94,0.15); color: #4ade80; }
        .badge.pro { background: rgba(99,102,241,0.15); color: #818cf8; }
        .badge.seo { background: rgba(245,158,11,0.15); color: #fcd34d; }
        .badge.viral { background: rgba(236, 72, 153, 0.15); color: #f472b6; }
        .badge.ai { background: rgba(168, 85, 247, 0.15); color: #c084fc; }

        /* Error Screen */
        #error-screen { display: none; padding: 50px; text-align: center; color: #ef4444; }
    </style>
</head>
<body>

    <div id="overlay" onclick="toggleMenu()"></div>

    <aside id="sidebar">
        <div class="logo">
            <i class="fa-solid fa-layer-group" style="color:var(--primary)"></i> OmniTools
        </div>
        
        <div class="nav-item active" onclick="filter('all', this)"><i class="fa-solid fa-border-all"></i> All Tools</div>
        
        <div class="nav-item" onclick="filter('dev', this)"><i class="fa-solid fa-code"></i> Developer</div>
        <div class="nav-item" onclick="filter('business', this)"><i class="fa-solid fa-briefcase"></i> Business</div>
        <div class="nav-item" onclick="filter('text', this)"><i class="fa-solid fa-font"></i> Text Tools</div>
        <div class="nav-item" onclick="filter('social', this)"><i class="fa-brands fa-tiktok"></i> Social Media</div>
        
        <div class="nav-item" onclick="filter('image', this)"><i class="fa-solid fa-image"></i> Image Tools</div>
        <div class="nav-item" onclick="filter('ai', this)"><i class="fa-solid fa-wand-magic-sparkles"></i> AI Tools</div>
        <div class="nav-item" onclick="filter('student', this)"><i class="fa-solid fa-graduation-cap"></i> Student</div>
        
        <div class="nav-item" onclick="toggleMenu()" style="margin-top:auto; color:#ef4444; border-top:1px solid var(--border); border-radius:0;">
            <i class="fa-solid fa-arrow-left"></i> Close Menu
        </div>
    </aside>

    <main>
        <header>
            <div class="menu-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></div>
            <div class="search-box">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" class="search-input" id="search" placeholder="Search for tools..." onkeyup="searchTools()">
            </div>
        </header>

        <div id="error-screen">
            <i class="fa-solid fa-triangle-exclamation" style="font-size:3rem; margin-bottom:20px;"></i>
            <h3>Database Error</h3>
            <p>Could not load 'database.js'. Make sure it is in the same folder.</p>
        </div>

        <div class="grid-container">
            <div class="grid" id="tools-grid">
                </div>
        </div>
    </main>

    <script src="database.js"></script>

    <script>
        const grid = document.getElementById('tools-grid');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');

        function toggleMenu() {
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }

        function render(cat) {
            if(window.innerWidth < 850) {
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
            }

            grid.innerHTML = "";
            
            if(typeof toolsDB === 'undefined') {
                document.getElementById('error-screen').style.display = 'block';
                return;
            }

            const filtered = cat === 'all' ? toolsDB : toolsDB.filter(t => t.cat === cat);
            
            filtered.forEach(tool => {
                let badge = tool.tag ? `<span class="badge ${tool.tag.toLowerCase()}">${tool.tag}</span>` : "";
                
                let iconPrefix = "fa-solid";
                if (['tiktok','instagram','youtube','twitter','facebook','discord','paypal'].some(b => tool.icon.includes(b))) {
                    iconPrefix = "fa-brands";
                }
                
                // --- CATEGORY COLOR MAPPING ---
                let brandClass = "brand-dev";
                if (tool.cat === 'social') brandClass = "brand-social";
                else if (tool.cat === 'business') brandClass = "brand-biz";
                else if (tool.cat === 'student') brandClass = "brand-stu";
                else if (tool.cat === 'text') brandClass = "brand-text";
                else if (tool.cat === 'ai') brandClass = "brand-ai";
                else if (tool.cat === 'image') brandClass = "brand-img";

                grid.innerHTML += `
                    <a href="${tool.url}" class="card"> 
                        ${badge}
                        <div class="icon-box ${brandClass}"><i class="${iconPrefix} ${tool.icon}"></i></div>
                        <div class="card-title">${tool.name}</div>
                        <div class="card-desc">${tool.desc}</div>
                    </a>
                `;
            });
        }

        function filter(cat, btn) {
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            render(cat);
        }
        
        function searchTools() {
            const q = document.getElementById('search').value.toLowerCase();
            document.querySelectorAll('.card').forEach(c => {
                const title = c.querySelector('.card-title').innerText.toLowerCase();
                const desc = c.querySelector('.card-desc').innerText.toLowerCase();
                c.style.display = (title.includes(q) || desc.includes(q)) ? 'flex' : 'none';
            });
        }

        setTimeout(() => render('all'), 50);
    </script>
</body>
</html>

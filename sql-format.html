<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free SQL Formatter - Beautify & Format SQL Queries Online</title>
    <meta name="description" content="Instant SQL Formatter. Beautify messy SQL queries, capitalize keywords, and fix indentation. Supports MySQL, PostgreSQL, and SQL Server syntax.">
    
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap" rel="stylesheet"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- DATABASE THEME --- */
        :root { 
            --bg: #0f172a; 
            --panel: #1e293b; 
            --text: #f8fafc; 
            --muted: #94a3b8; 
            --brand: #2dd4bf; /* Teal (Database) */
            --code: #e2e8f0;
            --keyword: #c084fc; /* Purple for SQL keywords */
            --border: 1px solid rgba(255, 255, 255, 0.1);
            --glow: 0 0 20px rgba(45, 212, 191, 0.2);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg); color: var(--text); padding-bottom: 80px; overflow-x: hidden; }

        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        /* HEADER */
        nav { display: flex; align-items: center; margin-bottom: 30px; padding-top: 20px; }
        .back-btn { color: var(--muted); text-decoration: none; font-weight: 600; display: flex; align-items: center; gap: 8px; transition: 0.2s; }
        .back-btn:hover { color: white; }

        .header-title { text-align: center; margin-bottom: 40px; }
        h1 { font-size: 2.5rem; font-weight: 800; margin-bottom: 10px; background: linear-gradient(to right, #2dd4bf, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { color: var(--muted); font-size: 1.1rem; }

        /* SETTINGS BAR */
        .settings-bar { 
            display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; 
            background: #020617; padding: 15px; border-radius: 12px; border: var(--border); width: fit-content; margin: 0 auto 30px auto;
        }
        .toggle { display: flex; align-items: center; gap: 8px; color: var(--muted); font-size: 0.85rem; cursor: pointer; }
        .toggle input { accent-color: var(--brand); cursor: pointer; }
        
        /* WORKSPACE */
        .workspace { display: grid; grid-template-columns: 1fr 60px 1fr; gap: 10px; height: 600px; }
        
        /* PANELS */
        .panel { display: flex; flex-direction: column; background: var(--panel); border: var(--border); border-radius: 16px; overflow: hidden; box-shadow: var(--glow); }
        .panel-header { background: rgba(0,0,0,0.2); padding: 15px; border-bottom: var(--border); display: flex; justify-content: space-between; align-items: center; }
        .panel-title { font-weight: 700; color: var(--brand); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; }
        
        .code-area { 
            flex: 1; width: 100%; background: #0b0f19; border: none; color: var(--code); 
            padding: 20px; font-family: 'Fira Code', monospace; font-size: 0.9rem; line-height: 1.6; resize: none;
        }
        .code-area::placeholder { color: rgba(255,255,255,0.1); }

        /* MIDDLE CONTROLS */
        .controls { display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 15px; }
        .control-btn { 
            width: 50px; height: 50px; border-radius: 50%; border: var(--border); background: var(--panel); 
            color: var(--muted); cursor: pointer; display: flex; align-items: center; justify-content: center; 
            font-size: 1.2rem; transition: 0.2s;
        }
        .control-btn:hover { background: var(--brand); color: #020617; transform: scale(1.1); box-shadow: 0 0 15px rgba(45, 212, 191, 0.4); border-color: var(--brand); }

        /* ACTION BAR */
        .action-bar { display: flex; gap: 10px; }
        .sm-btn { 
            padding: 5px 12px; font-size: 0.75rem; border-radius: 6px; border: 1px solid #334155; 
            background: transparent; color: var(--muted); cursor: pointer; transition: 0.2s;
        }
        .sm-btn:hover { color: white; border-color: white; }

        /* TOAST */
        .status-msg { 
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); 
            padding: 12px 25px; border-radius: 30px; font-weight: 600; font-size: 0.9rem; 
            display: none; box-shadow: 0 10px 30px rgba(0,0,0,0.5); z-index: 100;
        }
        .success { background: rgba(16, 185, 129, 0.9); color: #020617; }

        /* SEO SECTION */
        .seo-section { max-width: 800px; margin: 80px auto 0; color: #cbd5e1; line-height: 1.8; border-top: var(--border); padding-top: 50px; }
        .seo-section h2 { color: white; font-size: 1.8rem; margin-bottom: 20px; }
        .seo-section h3 { color: white; font-size: 1.4rem; margin-top: 30px; margin-bottom: 15px; }
        .code-block { background: #020617; padding: 15px; border-radius: 8px; font-family: 'Fira Code', monospace; border: 1px solid #334155; color: var(--muted); margin-bottom: 20px; font-size: 0.85rem; }

        @media(max-width: 900px) { 
            .workspace { grid-template-columns: 1fr; grid-template-rows: 1fr auto 1fr; height: auto; } 
            .controls { flex-direction: row; padding: 20px 0; }
            .code-area { height: 300px; }
        }
    </style>
</head>
<body>

<div class="container">
    <nav>
        <a href="index.html" class="back-btn"><i class="fa-solid fa-arrow-left"></i> Back to Dashboard</a>
    </nav>

    <div class="header-title">
        <h1>SQL Formatter</h1>
        <p class="subtitle">Beautify your database queries. Supports MySQL, Postgres, and SQL Server.</p>
    </div>

    <div class="settings-bar">
        <label class="toggle"><input type="checkbox" id="capsKeywords" checked> Capitalize Keywords (SELECT)</label>
        <label class="toggle"><input type="checkbox" id="breakOn" checked> New Line for Clauses</label>
        <label class="toggle"><input type="radio" name="indent" value="2"> 2 Spaces</label>
        <label class="toggle"><input type="radio" name="indent" value="4" checked> 4 Spaces</label>
    </div>

    <div class="workspace">
        
        <div class="panel">
            <div class="panel-header">
                <span class="panel-title">Messy SQL</span>
                <div class="action-bar">
                    <button class="sm-btn" onclick="clearAll()" title="Clear"><i class="fa-solid fa-trash"></i></button>
                    <button class="sm-btn" onclick="pasteCode()" title="Paste"><i class="fa-regular fa-clipboard"></i></button>
                </div>
            </div>
            <textarea id="inputCode" class="code-area" placeholder="select id, name from users where active=1 and role='admin' order by created_at desc"></textarea>
        </div>

        <div class="controls">
            <button class="control-btn" onclick="formatSQL()" title="Format SQL">
                <i class="fa-solid fa-database"></i>
            </button>
        </div>

        <div class="panel">
            <div class="panel-header">
                <span class="panel-title">Formatted SQL</span>
                <div class="action-bar">
                    <button class="sm-btn" onclick="copyCode()" title="Copy"><i class="fa-regular fa-copy"></i></button>
                </div>
            </div>
            <textarea id="outputCode" class="code-area" readonly></textarea>
        </div>

    </div>

    <div class="seo-section">
        <h2>Why Use an SQL Formatter?</h2>
        <p>
            Structured Query Language (SQL) is powerful, but it can get messy fast. When you export queries from tools like PHPMyAdmin or generate them via ORMs (like Hibernate or Eloquent), you often get a single long line of unreadable text.
        </p>
        

        <p>
            Our <strong>SQL Beautifier</strong> automatically organizes your code, capitalizing keywords and adding proper indentation. This makes debugging logic errors significantly easier.
        </p>

        <h3>Standard SQL Best Practices</h3>
        <ul>
            <li><strong>Capitalization:</strong> SQL is case-insensitive, but the industry standard is to write keywords in UPPERCASE (e.g., `SELECT`) and table/column names in lowercase.</li>
            <li><strong>Indentation:</strong> Clauses like `WHERE`, `AND`, and `JOIN` should start on a new line to clearly separate filtering logic.</li>
            <li><strong>Aliases:</strong> Always use `AS` when renaming columns to make the intention clear.</li>
        </ul>

        <h3>Supported Dialects</h3>
        <p>
            This tool works for all major SQL dialects including:
            <br>• MySQL / MariaDB
            <br>• PostgreSQL
            <br>• Microsoft SQL Server (T-SQL)
            <br>• SQLite
            <br>• Oracle PL/SQL
        </p>
    </div>

</div>

<div id="toast" class="status-msg success">Copied to Clipboard!</div>

<script>
    const keywords = [
        "SELECT", "FROM", "WHERE", "AND", "OR", "ORDER BY", "GROUP BY", 
        "HAVING", "LIMIT", "OFFSET", "INSERT INTO", "VALUES", "UPDATE", "SET", 
        "DELETE FROM", "JOIN", "LEFT JOIN", "RIGHT JOIN", "INNER JOIN", "OUTER JOIN", 
        "ON", "AS", "DISTINCT", "COUNT", "MAX", "MIN", "AVG", "SUM", "CASE", "WHEN", "THEN", "ELSE", "END"
    ];

    function showToast() {
        const t = document.getElementById('toast');
        t.style.display = 'block';
        setTimeout(() => t.style.display = 'none', 2000);
    }

    function clearAll() {
        document.getElementById('inputCode').value = '';
        document.getElementById('outputCode').value = '';
    }

    async function pasteCode() {
        const text = await navigator.clipboard.readText();
        document.getElementById('inputCode').value = text;
    }

    function formatSQL() {
        let sql = document.getElementById('inputCode').value;
        if(!sql) return;

        // Settings
        const doCaps = document.getElementById('capsKeywords').checked;
        const doBreak = document.getElementById('breakOn').checked;
        const indentSize = document.querySelector('input[name="indent"]:checked').value;
        const space = " ".repeat(indentSize);

        // 1. Remove existing newlines/tabs to flatten
        sql = sql.replace(/\s+/g, ' ');

        // 2. Capitalize Keywords (Simple Replacement)
        if(doCaps) {
            keywords.forEach(kw => {
                const regex = new RegExp(`\\b${kw}\\b`, 'gi');
                sql = sql.replace(regex, kw);
            });
        }

        // 3. Add New Lines
        if(doBreak) {
            const breakWords = ["SELECT", "FROM", "WHERE", "AND", "OR", "ORDER BY", "GROUP BY", "HAVING", "LIMIT", "INSERT INTO", "VALUES", "UPDATE", "SET", "DELETE", "JOIN", "LEFT JOIN", "RIGHT JOIN", "INNER JOIN", "ON"];
            
            breakWords.forEach(kw => {
                const regex = new RegExp(`\\b${kw}\\b`, 'gi');
                // Check if Caps is on to match replacement style
                const replaceVal = doCaps ? kw : kw.toLowerCase();
                
                // Don't break on the very first word
                sql = sql.replace(regex, `\n${replaceVal}`);
            });
        }

        // 4. Cleanup and Indent
        // Indent lines that don't start with a main keyword (basic heuristic)
        const lines = sql.split('\n');
        let formatted = "";
        
        lines.forEach((line, i) => {
            line = line.trim();
            if(!line) return;
            
            // If line starts with AND/OR/ON, add extra indent
            if(line.match(/^(AND|OR|ON)\b/i)) {
                formatted += space + line + "\n";
            } else if (i > 0 && !line.match(/^(SELECT|FROM|WHERE|INSERT|UPDATE|DELETE)\b/i)) {
                // formatted += space + line + "\n"; // Simple indent for others
                formatted += line + "\n";
            } else {
                formatted += line + "\n";
            }
        });

        document.getElementById('outputCode').value = formatted.trim();
    }

    function copyCode() {
        const code = document.getElementById('outputCode').value;
        if(!code) return;
        navigator.clipboard.writeText(code);
        showToast();
    }
</script>

</body>
</html>